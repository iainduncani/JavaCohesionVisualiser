apply plugin: 'java'

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.ow2.asm:asm:5.0.3'
    compile 'org.json:json:20160810'

    testCompile 'junit:junit:4.12'
    testCompile group: 'org.hamcrest', name: 'java-hamcrest', version: '2.0.0.0'
}

test {
    systemProperty 'testClassLocation', sourceSets.test.output.classesDir.getAbsolutePath() + '/com/ibm/cohesion/ExampleTestClass.class'
}

jar {
  manifest {
    attributes(
      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
      'Main-Class': 'com.ibm.cohesion.JavaCohesionVisualiser'
    )
  }
}